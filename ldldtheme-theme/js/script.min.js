/**
 * @author: tanlv
 */

function appendDateInfo() {
	$(".time_search span.date").html(infodate());
}

function startSmoothmenu() {
	if ($("#top_nav").length > 0) {
		ddsmoothmenu.init({
			mainmenuid: "top_nav",
			orientation: 'h',
			classname: 'ddsmoothmenu',
			contentsource: "markup"
		});
	}
}

function startAccordion() {
	if ($(".glossymenu").length > 0) {
		ddaccordion.init({
			 headerclass: "glossymenu .has_sub > a", 
			 contentclass: "glossymenu .has_sub > ul", 
			 revealtype: "click", 
			 mouseoverdelay: 200, 
			 collapseprev: true, 
			 defaultexpanded: [], 
			 onemustopen: false, 
			 animatedefault: false, 
			 persiststate: true, 
			 toggleclass: ["", ""], 
			 togglehtml: ["suffix", "<img src='/cumgarportal-theme/images/cumgar_portal/plus.gif' class='statusicon' />", "<img src='/cumgarportal-theme/images/cumgar_portal/minus.gif' class='statusicon' />"], 
			 animatespeed: "fast", 
			 oninit:function(headers, expandedindices){},
			 onopenclose:function(header, index, state, isuseractivated){}
		});
	}
}

function startNanoScroller() {
	if ($(".nano").length > 0) {
		$(".nano").nanoScroller({ scroll: 'top' });
	}
}

function slideBannerLogo() {
	if($(".anyClass").length > 0) {
		$(".anyClass").jCarouselLite({
			auto: parseInt("2000"),
			speed: 2000,
			visible: parseInt("1"),
			btnNext: ".next",
			btnPrev: ".prev"
		});
	}
}

function changeFormatCounter() {
	if ($(".thongke_truycap span").length > 0) {
		var data = $(".thongke_truycap span").html();
		var length = data.length;
		var mod = length%3;
		if(mod == 0) {mod = 3;}
		var output = data.substring(0,mod);
		for(var i=mod; i<data.length; i=i+3) {
			output = output + "." + data.substring(i,i+3);
		}
		$(".thongke_truycap span").html(output);
	}
}

function appendActionSearch() {
	$('#p_p_id_3_ form input[name="p_p_state"]').val("normal");
	$("#p_p_id_3_ form select").remove();
}

function clickPageAssetPublisher() {
	$('.portlet-asset-publisher .search-pages a.next').click(function() {
		location.href = $(this).att('href');
	});
}

///////////////////////////////////////////////////////
function infodate() {
	var fullDate = new Date();
	var days = ['Chủ nhật','Thứ hai','Thứ ba','Thứ tư','Thứ năm','Thứ sáu','Thứ bảy'];
	
	var getdayofweek = days[fullDate.getDay()];
	var twoDigitDays = twodigits(fullDate.getDate());
	var twoDigitMonth = twodigits(fullDate.getMonth() + 1);
	
	var departDate = getdayofweek + ", " + twoDigitDays + "/" + twoDigitMonth + "/" + fullDate.getFullYear();
	return departDate;
}

function twodigits(digits) {
	return (digits > 9) ? digits : '0' + digits;
}